{"ast":null,"code":"import _slicedToArray from\"/home/arifin/Documents/deploy/frontend-deployment-assignment-v1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AddPhoto=function AddPhoto(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),imageUrl=_useState2[0],setImageUrl=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),captions=_useState4[0],setCaptions=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),secret=_useState6[0],setSecret=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var navigate=useNavigate();var addPhoto=function addPhoto(e){e.preventDefault();fetch(\"https://gallery-app-server.vercel.app/photos\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({imageUrl:imageUrl,captions:captions,createdAt:\"2022-11-25T10:42:19.285Z\",updatedAt:\"2022-11-25T10:42:19.285Z\",secret:secret})}).then(function(response){return response.json();}).then(function(json){secret===\"password\"?navigate(\"/photos\"):setError(json.error);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-msg\",children:error}),/*#__PURE__*/_jsxs(\"form\",{className:\"add-form\",onSubmit:addPhoto,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Image Url:\",/*#__PURE__*/_jsx(\"input\",{className:\"add-input\",type:\"text\",\"data-testid\":\"imageUrl\",value:imageUrl,onChange:function onChange(e){return setImageUrl(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Captions:\",/*#__PURE__*/_jsx(\"input\",{className:\"add-input\",type:\"text\",\"data-testid\":\"captions\",value:captions,onChange:function onChange(e){return setCaptions(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Secret:\",/*#__PURE__*/_jsx(\"input\",{className:\"add-input\",type:\"text\",value:secret,\"data-testid\":\"secret\",onChange:function onChange(e){return setSecret(e.target.value);}})]}),/*#__PURE__*/_jsx(\"input\",{className:\"submit-btn\",type:\"submit\",value:\"Submit\",\"data-testid\":\"submit\"})]})]})});};export default AddPhoto;","map":{"version":3,"names":["useState","useNavigate","AddPhoto","imageUrl","setImageUrl","captions","setCaptions","secret","setSecret","error","setError","navigate","addPhoto","e","preventDefault","fetch","method","headers","body","JSON","stringify","createdAt","updatedAt","then","response","json","target","value"],"sources":["/home/arifin/Documents/deploy/frontend-deployment-assignment-v1/src/routes/AddPhoto.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst AddPhoto = () => {\n  const [imageUrl, setImageUrl] = useState(\"\");\n  const [captions, setCaptions] = useState(\"\");\n  const [secret, setSecret] = useState(\"\");\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n\n  const addPhoto = (e) => {\n    e.preventDefault();\n    fetch(\"https://gallery-app-server.vercel.app/photos\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        imageUrl: imageUrl,\n        captions: captions,\n        createdAt: \"2022-11-25T10:42:19.285Z\",\n        updatedAt: \"2022-11-25T10:42:19.285Z\",\n        secret: secret,\n      }),\n    })\n      .then((response) => response.json())\n      .then((json) => {\n        secret === \"password\" ? navigate(\"/photos\") : setError(json.error);\n      });\n  };\n\n  return (\n    <>\n      <div className=\"container\">\n        {error && <div className=\"error-msg\">{error}</div>}\n        <form className=\"add-form\" onSubmit={addPhoto}>\n          <label>\n            Image Url:\n            <input className=\"add-input\" type=\"text\" data-testid=\"imageUrl\" value={imageUrl} onChange={(e) => setImageUrl(e.target.value)} />\n          </label>\n          <label>\n            Captions:\n            <input className=\"add-input\" type=\"text\" data-testid=\"captions\" value={captions} onChange={(e) => setCaptions(e.target.value)} />\n          </label>\n          <label>\n            Secret:\n            <input className=\"add-input\" type=\"text\" value={secret} data-testid=\"secret\" onChange={(e) => setSecret(e.target.value)} />\n          </label>\n          <input className=\"submit-btn\" type=\"submit\" value=\"Submit\" data-testid=\"submit\" />\n        </form>\n      </div>\n    </>\n  );\n};\n\nexport default AddPhoto;\n"],"mappings":"qJAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,WAAW,KAAQ,kBAAkB,CAAC,6IAE/C,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrB,cAAgCF,QAAQ,CAAC,EAAE,CAAC,wCAArCG,QAAQ,eAAEC,WAAW,eAC5B,eAAgCJ,QAAQ,CAAC,EAAE,CAAC,yCAArCK,QAAQ,eAAEC,WAAW,eAC5B,eAA4BN,QAAQ,CAAC,EAAE,CAAC,yCAAjCO,MAAM,eAAEC,SAAS,eACxB,eAA0BR,QAAQ,CAAC,IAAI,CAAC,yCAAjCS,KAAK,eAAEC,QAAQ,eACtB,GAAMC,SAAQ,CAAGV,WAAW,EAAE,CAE9B,GAAMW,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,CAAC,CAAK,CACtBA,CAAC,CAACC,cAAc,EAAE,CAClBC,KAAK,CAAC,8CAA8C,CAAE,CACpDC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBjB,QAAQ,CAAEA,QAAQ,CAClBE,QAAQ,CAAEA,QAAQ,CAClBgB,SAAS,CAAE,0BAA0B,CACrCC,SAAS,CAAE,0BAA0B,CACrCf,MAAM,CAAEA,MACV,CAAC,CACH,CAAC,CAAC,CACCgB,IAAI,CAAC,SAACC,QAAQ,QAAKA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACnCF,IAAI,CAAC,SAACE,IAAI,CAAK,CACdlB,MAAM,GAAK,UAAU,CAAGI,QAAQ,CAAC,SAAS,CAAC,CAAGD,QAAQ,CAACe,IAAI,CAAChB,KAAK,CAAC,CACpE,CAAC,CAAC,CACN,CAAC,CAED,mBACE,sCACE,aAAK,SAAS,CAAC,WAAW,WACvBA,KAAK,eAAI,YAAK,SAAS,CAAC,WAAW,UAAEA,KAAK,EAAO,cAClD,cAAM,SAAS,CAAC,UAAU,CAAC,QAAQ,CAAEG,QAAS,wBAC5C,mDAEE,cAAO,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,cAAY,UAAU,CAAC,KAAK,CAAET,QAAS,CAAC,QAAQ,CAAE,kBAACU,CAAC,QAAKT,YAAW,CAACS,CAAC,CAACa,MAAM,CAACC,KAAK,CAAC,EAAC,EAAG,GAC3H,cACR,kDAEE,cAAO,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,cAAY,UAAU,CAAC,KAAK,CAAEtB,QAAS,CAAC,QAAQ,CAAE,kBAACQ,CAAC,QAAKP,YAAW,CAACO,CAAC,CAACa,MAAM,CAACC,KAAK,CAAC,EAAC,EAAG,GAC3H,cACR,gDAEE,cAAO,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAEpB,MAAO,CAAC,cAAY,QAAQ,CAAC,QAAQ,CAAE,kBAACM,CAAC,QAAKL,UAAS,CAACK,CAAC,CAACa,MAAM,CAACC,KAAK,CAAC,EAAC,EAAG,GACrH,cACR,cAAO,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,cAAY,QAAQ,EAAG,GAC7E,GACH,EACL,CAEP,CAAC,CAED,cAAezB,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}